// GRID

// VARIABLES


$numCols: 4;
$numGutters: $numCols - 1;

// Width in pixels
$gutter: 12px;
$maxWidth: 1170px;

// Width in percentages
$fullWidth: 100%;

// Height in pixels
$oneRow: 330px;
$twoRow: $gutter + ($oneRow * 2);
$captionHeight: 60px;
$descriptionHeight: 140px;

// Height in percentages
$fullHeight: 100%;

// FUNCTIONS

// Calculating the column width
@function colWidth($numCols, $numGutters, $gutter, $maxWidth){
	@return ($maxWidth - ($numGutters * $gutter)) / $numCols;
}

// Breakpoints

$breakPoint1: 1199px;
$breakPoint2: 979px;
$breakPoint3: 767px;

// // Calculating breakpoints
// @function breakPoint1($numCols, $numGutters, $gutter, $maxWidth){
// 	$colWidth: colWidth($numCols, $numGutters, $gutter, $maxWidth);
// 	$breakPoint1: ((($colWidth * ($numCols - 1) + ($gutter * ($numGutters - 1))) / 9) * 10);
// 	@return $breakPoint1;
// }

// @function breakPoint2($numCols, $numGutters, $gutter, $maxWidth){
// 	$colWidth: colWidth($numCols, $numGutters, $gutter, $maxWidth);
// 	$breakPoint2: ((($colWidth * ($numCols - 2) + ($gutter * ($numGutters - 2))) / 9) * 10);
// 	@return $breakPoint2;
// }

// @function breakPoint3($numCols, $numGutters, $gutter, $maxWidth){
// 	$colWidth: colWidth($numCols, $numGutters, $gutter, $maxWidth);
// 	$breakPoint3: ((($colWidth * ($numCols - 3) + ($gutter * ($numGutters - 3))) / 9) * 10);
// 	@return $breakPoint3;
// }

// @function breakPoint4($numCols, $numGutters, $gutter, $maxWidth){
// 	$colWidth: colWidth($numCols, $numGutters, $gutter, $maxWidth);
// 	$breakPoint4: ((($colWidth * ($numCols - 4) + ($gutter * ($numGutters - 4))) / 9) * 10);
// 	@return $breakPoint4;
// }

// Breakpoints
// $breakPoint1: breakPoint1($numCols, $numGutters, $gutter, $maxWidth);
// $breakPoint2: breakPoint2($numCols, $numGutters, $gutter, $maxWidth);
// $breakPoint3: breakPoint3($numCols, $numGutters, $gutter, $maxWidth);
// $breakPoint4: breakPoint4($numCols, $numGutters, $gutter, $maxWidth);

// ACTUAL GRID

html, body{
	width: $fullWidth;
}

/* =======================================
		START NESTING 
======================================= */

#folderWrapper{
	margin: -30px auto 0;
	max-width: $maxWidth;
	padding-bottom: 50px;
	width: $fullWidth;

	@media only screen and(max-width: $breakPoint2){
		width: 99%;
	}

/* ------------------------------------ */

.clearfix:after{
	clear: both;
	content:"";
	display: table;
}

.gridSizer{
	width: percentage((colWidth($numCols, $numGutters, $gutter, $maxWidth) / $maxWidth));

	// @media only screen and(max-width: $breakPoint1){
	// 	width: percentage( colWidth(($numCols), ($numGutters), $gutter, $breakPoint1) / $breakPoint1);
	// }

	@media only screen and(max-width: $breakPoint2){
		width: percentage( colWidth(($numCols - 1), ($numGutters - 1), $gutter, $breakPoint2) / $breakPoint2);
	}

	// @media only screen and(max-width: $breakPoint3){
	// 	width: percentage( colWidth(($numCols - 3), ($numGutters - 3), $gutter, $breakPoint3) / $breakPoint3);
	// }
}

.gutterSizer{
	width: percentage($gutter / $maxWidth);

	// @media only screen and(max-width: $breakPoint1){
	// 	width: percentage($gutter / $breakPoint1);
	// }

	@media only screen and(max-width: $breakPoint2){
		width: percentage($gutter / $breakPoint2);
	}

	// @media only screen and(max-width: $breakPoint3){
	// 	width: percentage($gutter / $breakPoint3);
	// }
}

.folderHeader{
	@media only screen and(max-width: $breakPoint3){
		display: none;
	}

	#navFix{
		position: absolute;
		bottom: 137px;
	}
}

.folderContent{
	margin: 0 auto;
	width: $fullWidth;
}

// FOLDERITEM

.folderItem{
	border-collapse: collapse;
	display: block;
	float: left;
	height: $oneRow;
	//margin-left: percentage($gutter / $maxWidth);
	margin-bottom: $gutter;
	width: percentage( colWidth($numCols, $numGutters, $gutter, $maxWidth) / $maxWidth);

	article{
		height: percentage(($oneRow - $captionHeight) / $oneRow);
	}

	img{
		width: 100%;
	}

	.product{
		float: left;
		height: $fullHeight;
		position: relative;
		width: $fullWidth;
	}

	.lazy{
		float: left;
		height: $fullHeight;
		max-width: $fullWidth;
	}

	.hasDescription{
		height: percentage(($oneRow - $descriptionHeight) / $oneRow);
	}

	&.twoRow{
		height: $twoRow;

		.hasDescription{
			height: percentage(($twoRow - $descriptionHeight) / $twoRow);
		}
	}

	& + .folderitem{
		margin-left: 0;
	}

	// @media only screen and(max-width: $breakPoint1){
	// 	width: percentage( colWidth(($numCols - 1), ($numGutters - 1), $gutter, $breakPoint1) / $breakPoint1);
	// }

	@media only screen and(max-width: $breakPoint2){
		width: percentage( colWidth(($numCols - 1), ($numGutters - 1), $gutter, $breakPoint2) / $breakPoint2);
	}

	// @media only screen and(max-width: $breakPoint3){
	// 	width: percentage( colWidth(($numCols - 3), ($numGutters - 3), $gutter, $breakPoint3) / $breakPoint3);
	// }
}

.twoCol{
	width: percentage( (colWidth($numCols, $numGutters, $gutter, $maxWidth) * 2 + $gutter) / $maxWidth);

	@media only screen and(max-width: $breakPoint2){
		width: percentage( (colWidth(($numCols - 1), ($numGutters - 1), $gutter, $breakPoint2) / $breakPoint2) * 2) + percentage($gutter / $breakPoint2);
	}
}

// PRICETAG

.priceTag{
	position: absolute;
		bottom: 10px;
		right: 8px;
}

.priceTag2{
	position: absolute;
		bottom: 10px;
		left: 8px;
}

// DESCRIPTION
.description{
	float: left;
	max-height: $descriptionHeight - 14px;
	padding: 0 .5em;
	width: 100%;

	.title_block{
		margin-bottom: .8em;
		width: 100%;
		
		h3, h3 a{
			margin: .6em 0 .4em;
		}

		h4, h4 a{
			margin: .4em 0;
		}
	}

	p, p a{
		padding-top: 1em;
		padding-bottom: 1em;

		.end_block{
			display: inline-block;
			height: 6px;
			position: relative;
				top: -1px;
				left: 4px;
			width: 6px;
		}
	}
}

/* =======================================
		END NESTING 
========================================*/

}

/* ------------------------------------ */

